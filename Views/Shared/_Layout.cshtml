<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - ConcertGrail</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/ConcertGrail.styles.css" asp-append-version="true" />
</head>
<body class="dark">
    <div class="container">
        <div>
            <div class="form-check form-switch">
                <!-- Rounded switch -->
                <label class="switch mt-4" for="checkbox">
                    <input type="checkbox" class="form-check-input" id="checkbox" onclick="setDarkMode()">
                    <span class="slider round"></span>
                </label>
                <button class="theme-toggle-button mt-4" > @* swapper *@
                <svg class="pumpkin" style="width:24px;height:24px" viewBox="0 0 24 24">
                <path fill="currentColor" d="M6.5,6C7.47,6 8.37,6.5 9.11,7.38C9.66,6.79 10.31,6.36 11,6.15V4A2,2 0 0,1 13,2H15V4H13V6.15C13.69,6.36 14.34,6.79 14.89,7.38C15.63,6.5 16.53,6 17.5,6C20,6 22,9.36 22,13.5C22,17.64 20,21 17.5,21C16.53,21 15.63,20.5 14.89,19.62C14.08,20.5 13.08,21 12,21C10.92,21 9.92,20.5 9.11,19.62C8.37,20.5 7.47,21 6.5,21C4,21 2,17.64 2,13.5C2,9.36 4,6 6.5,6M9,10L7.75,12.25H10.25L9,10M15,10L13.75,12.25H16.25L15,10M8,17H10L11,16L12,17H14L15,16L16,17L17.5,14L13.92,14.62L13,16L12,15H10L9,16L8,15L6,14L8,17Z" />
                </svg>
                    Light/Dark Mode
                <svg class="moon" style="width:24px;height:24px" viewBox="0 0 24 24">
                <path fill="currentColor" d="M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z" />
                </svg>
                </button>

                @* pumpkin *@

                @* Moon *@
    @* TODO: Update navbar - should we have a different one for our landing page than the dashboard? *@
                <header>
                    <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
                        <div class="container-fluid">
                            <figure class="figure">
                                    <img src="https://cdn.discordapp.com/attachments/1031736257488883712/1032418532966813766/ConcertGrail.logo.png" class="figure-img img-fluid rounded align-content-center" alt="CG Logo"height="60px" width="60px">
                            </figure>
                            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                                    aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between ">
                                <ul class="navbar-nav flex-grow-1 ">
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-area="" asp-controller="Users" asp-action="Dashboard">Home</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-area="" asp-controller="Users" asp-action="Events">Events</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link text-dark" asp-area="" asp-controller="Users" asp-action="Share">Share</a>
                                    </li>
                                    @* <li class="nav-item">
                                        <a class="nav-link text-dark" asp-area="" asp-controller="Users" asp-action="Connect">Connect</a>
                                    </li> *@
                                    <li>

                                        @* maybe round it out *@
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div>
                            @{
                                int? login = Context.Session.GetInt32("UserId");
                            }
                            @if(login != null){
                            <button class="btn btn-dark"><a asp-controller="Users" asp-action="Logout">Logout</a></button>
                            }

                        </div>
                    </nav>
                </header>
                <div class="container">
                    <main role="main" class="pb-3">
                        @RenderBody()
                    </main>
                </div>

                <footer class="border-top footer text-muted">
                    <div class="container" >
                        &copy; 2022 - csharp_proj - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                    </div>
                </footer>
                <script src="~/lib/jquery/dist/jquery.min.js"></script>
                <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>
                @await RenderSectionAsync("Scripts", required: false)
            </div>
        </div>
    </div>
    <script>
        //setDarkMode
        if(localStorage.getItem('theme') == 'dark'){
            setDarkMode();

            if(document.getElementById('checkbox').checked){
                localStorage.setItem('checkbox', true)
            }
        }
            function setDarkMode(){
                let isDark = document.body.classList.toggle('darkmode');
                if(isDark){
                    setDarkMode.checked = true;
                    localStorage.setItem('theme', 'dark')
                    document.getElementById('checkbox').setAttribute('checked', 'checked');

                }else{
                    setDarkMode.checked = true;
                    localStorage.removeItem('theme', 'dark');
                }
            }

    </script>
</body>
</html>